# =============================================================================
#  RDS Guard â€” Configuration
#  Copy this file to .env and edit to match your setup.
# =============================================================================

# --- RTL-SDR ---
FM_FREQUENCY=103.3M            # Your local P4 frequency (see README for list)
RTL_GAIN=8                     # Tuner gain in dB (0-50)
PPM_CORRECTION=0               # Frequency correction for your dongle
RTL_DEVICE_INDEX=0             # Device index if multiple dongles
# RTL_DEVICE_SERIAL=           # Select dongle by serial number instead of index

# --- MQTT (optional) ---
MQTT_ENABLED=false             # Enable MQTT publishing (true/false)
# MQTT_HOST=192.168.1.100      # Broker hostname/IP
# MQTT_PORT=1883               # Broker port
# MQTT_USER=                   # Username (optional)
# MQTT_PASSWORD=               # Password (optional)
MQTT_TOPIC_PREFIX=rds          # Base topic prefix
MQTT_CLIENT_ID=rds-guard       # MQTT client ID
MQTT_QOS=1                     # Default QoS level
MQTT_RETAIN_STATE=true         # Retain state topics

# --- Publishing control ---
PUBLISH_MODE=essential         # "essential" or "all" (every decoded RDS field)
PUBLISH_RAW=false              # Publish raw RDS groups to system/raw (high volume)
STATUS_INTERVAL=30             # Seconds between MQTT status messages

# --- Web UI ---
WEB_UI_PORT=8022               # HTTP port for the web UI and API
EVENT_RETENTION_DAYS=30        # Auto-delete events older than this (days)

# --- Audio recording ---
# Audio is always recorded during traffic and emergency events.
AUDIO_DIR=/data/audio          # Directory for recorded audio files
RECORD_EVENT_TYPES=traffic,emergency  # Comma-separated event types to record
AUDIO_FORMAT=ogg               # Output format: "ogg" (Opus) or "wav"
MAX_RECORDING_SEC=600          # Maximum recording duration (safety cutoff)

# --- Transcription ---
# "local"  = built-in faster-whisper on CPU (works out of the box)
# "remote" = external Whisper ASR server via HTTP
# "none"   = disable transcription (audio is still recorded and playable)
TRANSCRIPTION_ENGINE=local
TRANSCRIPTION_LANGUAGE=sv      # Language code (sv, en, de, etc.)

# Local engine settings (only used when TRANSCRIPTION_ENGINE=local)
TRANSCRIPTION_MODEL=small      # tiny, base, small, medium, large-v3
TRANSCRIPTION_DEVICE=cpu       # cpu or cuda

# Remote engine settings (only used when TRANSCRIPTION_ENGINE=remote)
# WHISPER_REMOTE_URL=http://whisper:9000
# WHISPER_REMOTE_TIMEOUT=120   # HTTP timeout in seconds
